/*C12*/SET SCHEMA PUBLIC
drop table if exists t_ue CASCADE 
drop table if exists tbloc CASCADE 
drop table if exists tbloc_options CASCADE 
drop table if exists tbloc_ues CASCADE 
drop table if exists tformation CASCADE 
drop table if exists toption CASCADE 
drop table if exists toption_ues CASCADE 
drop table if exists tuser CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table t_ue (id integer not null, ue_code varchar(200) not null, ue_cout double, ue_credits integer, ue_intitule varchar(200) not null, ue_nombre_groupescm integer, ue_nombre_groupestd integer, ue_nombre_groupestp integer, ue_nombre_heurecm double, ue_nombre_heuretd double, ue_nombre_heuretp double, f_id integer, primary key (id))
create table tbloc (b_id integer not null, b_code varchar(200) not null, b_cout double, eff_site1 integer, eff_site2 integer, eff_site3 integer, eff_site4 integer, b_intitule varchar(200) not null, f_id integer, primary key (b_id))
create table tbloc_options (blocs_b_id integer not null, options_o_id integer not null)
create table tbloc_ues (blocs_b_id integer not null, ues_id integer not null)
create table tformation (f_id integer not null, f_code varchar(200) not null, f_cout double, f_intitul\u00e9 varchar(200) not null, f_cm integer, f_td integer, f_tp integer, primary key (f_id))
create table toption (o_id integer not null, o_code varchar(200) not null, o_cout double, o_credits integer, o_intitule varchar(200) not null, f_id integer, primary key (o_id))
create table toption_ues (options_o_id integer not null, ues_id integer not null)
create table tuser (u_id integer not null, u_email varchar(200) not null, u_mot_de_passe varchar(200) not null, primary key (u_id))
alter table t_ue add constraint FKhwtceo9flfpsglv6auu0khpen foreign key (f_id) references tformation
alter table tbloc add constraint FKdahdm0w5y5cm9sm1h0ed5axpq foreign key (f_id) references tformation
alter table tbloc_options add constraint FKt2ou0jmed5h1wn500sl954a0w foreign key (options_o_id) references toption
alter table tbloc_options add constraint FK9y1sn3qu7u2t2j7lapy6qpbsy foreign key (blocs_b_id) references tbloc
alter table tbloc_ues add constraint FK3vb5yrhsymkakeuwjogvyi9oh foreign key (ues_id) references t_ue
alter table tbloc_ues add constraint FKoa5ppj1b2d013c4ti8o6g2v4r foreign key (blocs_b_id) references tbloc
alter table toption add constraint FKsphwq6j53vi6qtliusxjobk1i foreign key (f_id) references tformation
alter table toption_ues add constraint FKfk1lnjsureywfm79q1mmms6w0 foreign key (ues_id) references t_ue
alter table toption_ues add constraint FKg7rc83e6gqs1n60wa9b00s7ql foreign key (options_o_id) references toption
INSERT INTO TFORMATION VALUES(1,'DIM',0.0E0,'Diplome infirmerie marseille',100,15,15)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 2
COMMIT
INSERT INTO TBLOC VALUES(2,'B1',0.0E0,NULL,NULL,NULL,NULL,'Semestre 1 DUT',1)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 3
COMMIT
INSERT INTO TOPTION VALUES(3,'O1',10.0E0,0,'CC_ILD',1)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 4
COMMIT
INSERT INTO TOPTION VALUES(4,'O2',10.0E0,0,'CC_ILD',1)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 5
COMMIT
INSERT INTO TOPTION VALUES(5,'O3',10.0E0,0,'CC_ILD',1)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 6
COMMIT
INSERT INTO TBLOC_OPTIONS VALUES(2,3)
COMMIT
DELETE FROM TBLOC_OPTIONS WHERE BLOCS_B_ID=2 AND OPTIONS_O_ID=3
INSERT INTO TBLOC_OPTIONS VALUES(2,3)
INSERT INTO TBLOC_OPTIONS VALUES(2,4)
COMMIT
DELETE FROM TBLOC_OPTIONS WHERE BLOCS_B_ID=2 AND OPTIONS_O_ID=3
DELETE FROM TBLOC_OPTIONS WHERE BLOCS_B_ID=2 AND OPTIONS_O_ID=4
INSERT INTO TBLOC_OPTIONS VALUES(2,3)
INSERT INTO TBLOC_OPTIONS VALUES(2,4)
INSERT INTO TBLOC_OPTIONS VALUES(2,5)
COMMIT
DELETE FROM TBLOC_OPTIONS WHERE BLOCS_B_ID=2 AND OPTIONS_O_ID=3
DELETE FROM TBLOC_OPTIONS WHERE BLOCS_B_ID=2 AND OPTIONS_O_ID=4
DELETE FROM TBLOC_OPTIONS WHERE BLOCS_B_ID=2 AND OPTIONS_O_ID=5
INSERT INTO TBLOC_OPTIONS VALUES(2,3)
INSERT INTO TBLOC_OPTIONS VALUES(2,4)
COMMIT
drop table if exists t_ue CASCADE 
drop table if exists tbloc CASCADE 
drop table if exists tbloc_options CASCADE 
drop table if exists tbloc_ues CASCADE 
drop table if exists tformation CASCADE 
drop table if exists toption CASCADE 
drop table if exists toption_ues CASCADE 
drop table if exists tuser CASCADE 
drop sequence hibernate_sequence if exists
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
